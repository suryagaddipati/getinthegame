<html>
<head>


<style>
/* Doc Styles */
html, body, div, table, td, a, p, img{margin:0px;padding:0px;width:auto;height:auto;font-family:'Trebuchet MS', Arial;font-size:11px;text-align:center; vertical-align:middle;color:#333333;}
h1{font-size:24px;}
h2{font-size:16px;}
a{color:#006699;}a:hover{color:#0099FF;}
img{display:block;border:0px;}
div.page{margin:0px auto;}
div.header{margin:25px auto;}
div.content{margin:auto auto;text-align:center;}
div.footer{margin-top:50px;}
div.footer a{font-size:10px;}
.button{margin:auto auto;text-align:center;width:150;height:150px;color:#FFFFFF;background-color:#006699;border:#003366 1px solid;cursor:pointer;}
</style>
<link href="css/jquery-bubble-popup-v3.css" rel="stylesheet" type="text/css" />
<script src="scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="scripts/jquery-bubble-popup-v3.min.js" type="text/javascript"></script>
<style>
a{text-decoration:none}
a:hover{text-decoration: underline; color:#fff8dc;}
</style>

</head>
<body bgcolor="#000000" text="#ba55dc" link="#fff8dc" alink="#fff8dc" vlink="#fff8dc" topmargin="0" marginheight="0">
<basefont size="3">
<div align="center">

<h1>Tic Tac Toe</h1></font>

<script type="text/javascript">
$(document).ready(function(){
blurbs = ['Join A Sports Team',
'Join a Club & develop leadership skills',
'Take Advanced Placement (AP) Courses',
'Build Relationships',
'Make every day Bring your Parents to School Day',
'Show Up For Classes',
'Shoot for  an A, dont settle for a C',
'Choose Caring Friends',
'Get Enough Sleep'
]

});

</script>

<script language="javascript">


var image1=new Image(); image1.src="http://www.angelfire.com/ny5/consigliere/ex.gif";
var image2=new Image(); image2.src="http://www.angelfire.com/ny5/consigliere/oh.gif";

var level=1, myway, mynextmove;
var tmp, done, iswon, content;
var pcwins=[0,0,0,0];
var playerwins=[0,0,0,0];
var draws=[0,0,0,0]; 
var playerstarts=true;
var moves=new Array();
var game=new Array(9);
var choices=[11,12,13,21,22,23,31,32,33];
var corners=[11,13,31,33];
var ways=new Array();
ways[1]=[0,11,12,13];
ways[2]=[0,21,22,23];
ways[3]=[0,31,32,33];
ways[4]=[0,11,21,31];
ways[5]=[0,12,22,32];
ways[6]=[0,13,23,33];
ways[7]=[0,11,22,33];
ways[8]=[0,13,22,31]; 
var w3c=(document.getElementById)?true:false;
var ns4=(document.layers)?true:false;
var ie4=(document.all && !w3c)?true:false;
var ie5=(document.all && w3c)?true:false;
var ns6=(w3c && navigator.appName.indexOf("Netscape")>=0)?true:false;

function init(){
oktoplay=true;
iswon=false;
done=0;
writetext(4);
moves[11]=0; moves[12]=0; moves[13]=0; moves[21]=0; moves[22]=0; moves[23]=0; moves[31]=0; moves[32]=0; moves[33]=0;
for(i=0;i<=8;i++){
document.images['rc'+choices[i]].src="http://www.angelfire.com/ny5/consigliere/nothing.gif";
document.images['rc'+choices[i]].alt="";
game[i]=0;
hintNextMove();
}
if(!playerstarts)pcturn();
}

function writetext(num){
switch(num){
case 1: content='This game is a draw';
break;
case 2: content='The computer won this round.';
break;
case 3: content='You won this round.';
break;
case 4: content='LEVEL: '+level+'\n\nComputer Wins:  This level- '+pcwins[level]+'  (Total: '+(pcwins[0]+pcwins[1]+pcwins[2]+pcwins[3])+')\nPlayer Wins  :  This level- '+playerwins[level]+'  (Total: '+(playerwins[0]+playerwins[1]+playerwins[2]+playerwins[3])+')\nDraws        :  This level- '+draws[level]+'  (Total: '+(draws[0]+draws[1]+draws[2]+draws[3])+')';
break;
}

document.scores.scores2.value=content

if(num<4)setTimeout('init(4)',1000);
}

function setlevel(x){
  if (level!=x){
    level=x;
    init();
}}

function selectMove(cellnum){
if (!iswon){      // Thanks to Roger for finding this Bug !!!
if(moves[cellnum]==0){
document.images['rc'+cellnum].src="http://www.angelfire.com/ny5/consigliere/ex.gif";
document.images['rc'+cellnum].alt=" X ";
moves[cellnum]=1;
game[done]=cellnum;
done++;
findwinner(true);
}else alert('You cannot move here!');
}
}

function hintNextMove(){
  document.images['rc'+winningSeq[moveNum]].src="http://i.imgur.com/6AxWM3L.jpg";
}

winningSeq = [ 22, 33 ,31,13]
loosingSeq = [ 21, 11 ,32,13]
moveNum = 0;
//hintNextMove();
function setbutton(cellnum){

  if( cellnum !== winningSeq[moveNum]) return;
 selectMove(cellnum);
 moveNum++;
 hintNextMove();

}


function pcstrategy(istowin){
if (level>0){
var str=(istowin)? 2 : 1;
for(n=1;n<=8;n++){
if((moves[ways[n][1]]==str) && (moves[ways[n][2]]==str) && (moves[ways[n][3]]==0)) tmp=ways[n][3];
if((moves[ways[n][1]]==str) && (moves[ways[n][3]]==str) && (moves[ways[n][2]]==0)) tmp=ways[n][2];
if((moves[ways[n][2]]==str) && (moves[ways[n][3]]==str) && (moves[ways[n][1]]==0)) tmp=ways[n][1];
}}}


function selecCorner(which){
if (which=="empty"){
do{
tmp=corners[Math.floor(Math.random()*4)];
}while(moves[tmp]!=0);
}
else
tmp=corners[Math.floor(Math.random()*4)];
}


function pcdontlose(){
if (!playerstarts){
if (done==0){
tmp=choices[2*Math.floor(Math.random()*5)];
if (tmp==22) myway=1;
else myway=2;
}
else if (done==2){
if (myway==1){
if (game[1]==11 || game[1]==13 || game[1]==31 || game[1]==33)
tmp=44-game[1]; 
else{
dlta=22-game[1];
op0=22+dlta+(10/dlta);
op1=22+dlta-(10/dlta);
tmp=eval("op"+Math.floor(Math.random()*2));
}}
else if (myway==2){
if (game[1]==22){
tmp=44-game[0];
myway=21;
}
else if (game[1]==11 || game[1]==13 || game[1]==31 || game[1]==33){
selecCorner("empty");
myway=22;
}
else{
tmp=22;
myway=23;
}}}
else if (done==4){
if (myway==22){
for (i=0; i<4 ;i++){            
if (moves[corners[i]]==0){
tmp=corners[i];
}}}
else if (myway==23){
dlta=game[1]-game[0];
op0=44-(game[1]+dlta);
op1=(op0+game[0])/2;
tmp=eval("op"+Math.floor(Math.random()*2));
}
else if (myway==1)
tmp=44+game[2]-(2*game[3]);
}}
else if (level==3){
if (done==1){
if (game[0]==11 || game[0]==13 || game[0]==31 || game[0]==33){
tmp=22;
myway=1;
}
else if (game[0]==22){
selecCorner("any");
myway=2;
}
else{
tmp=22;
myway=3;
}}
else if (done==3){
if (myway==1){
if (game[2]==44-game[0])
tmp=choices[1+(2*Math.floor(Math.random()*4))];
else
tmp=44-game[0]
}
else if (myway==2){
if (game[2]==44-game[1])
selecCorner("empty");
}
else if (myway==3){
if (game[2]==11 || game[2]==13 || game[2]==31 || game[2]==33)
tmp=44-game[2];
if (game[2]==44-game[0]){
dlta=22-game[2];
tmp=22+(10/dlta);
mynextmove=tmp+dlta;
}
else{
dlta=22-game[0];
op0=game[0]+(10/dlta);  
op1=game[0]-(10/dlta);  
op2=game[2]+dlta; 
tmp=eval("op"+Math.floor(Math.random()*3));
}}}
else if (done==5 && myway==3){
tmp=mynextmove;
}}}


function findwinner(isplayer){
me=(isplayer)? 1 : 2;
for(n=1;n<=8;n++){
if( (moves[ways[n][1]]==me) && (moves[ways[n][2]]==me) && (moves[ways[n][3]]==me) ){
iswon=true;
break;
}}
if(iswon){
if(isplayer){
playerwins[level]++;
playerstarts=true;
writetext(3);
}else{
pcwins[level]++;
playerstarts=false;
writetext(2);
}}else{
if(done>8){
draws[level]++;
playerstarts=!playerstarts;
writetext(1);
}else if(isplayer) pcturn();
}}

function pcrandom(){
do{
tmp=choices[Math.floor(Math.random()*9)];
}while(moves[tmp]!=0);
}

function pcturn(){
tmp='00';
pcstrategy(true);
if(tmp=='00')pcstrategy(false);
if(tmp=='00' && level>1)
  pcdontlose();
if(tmp=='00')
  pcrandom();
  tmp = loosingSeq[moveNum];
moves[tmp]=2;
game[done]=tmp;
document.images['rc'+tmp].src="http://www.angelfire.com/ny5/consigliere/oh.gif";
document.images['rc'+tmp].alt=" O ";

done++;
findwinner(false);
}

window.onload=init;

window.onresize=function(){
  if(ns4)setTimeout('history.go(0)',400);
}
</script>

<table cellpadding="0" cellspacing="0" border="5" bordercolor="black" bordercolorlight="gray" bgcolor="white"><tr>
    <td width="55">
              <div class="button" id="button11">
                <a href="javascript:setbutton(11)">
                  <img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc11">
                  <p> hello </p>
                </a>
    </div>
    </td>
    <td width="55">
      <div class="button" id="button12"><a href="javascript:setbutton(12)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc12"></a></div>
    </td>
    <td width="55">
      <div class="button" id="button13"> <a href="javascript:setbutton(13)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc13"></a> </div>
    </td>
    </tr>
    <tr>
      <td width="55"><div class="button" id="button21"><a href="javascript:setbutton(21)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc21"></a></div></td>
      <td width="55"><div class="button" id="button22"><a href="javascript:setbutton(22)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc22"></a></div></td>
      <td width="55"><div class="button" id="button23"><a href="javascript:setbutton(23)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc23"></a></div></td>
</tr><tr>
<td width="55"><div class="button" id="button31"><a href="javascript:setbutton(31)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc31"></a></div></td>
<td width="55"><div class="button" id="button32"><a href="javascript:setbutton(32)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc32"></a></div></td>
<td width="55"><div class="button" id="button33"><a href="javascript:setbutton(33)"><img src="http://www.angelfire.com/ny5/consigliere/nothing.gif" border="0" name="rc33"></a></div></td>
</tr></table><br>
<font face="georgia,arial,helvetica"size="3"color="#1e90ff">

<blockquote><i>Select a level of play then click inside one of the empty boxes to start.</font></i></blockquote>

<table cellpadding="4" cellspacing="3">
<tr>
<td bgcolor="#000000" align="left" colspan="3">
<font face="georgia,arial,helvetica"size="3"color="#fff0f5">
<form name="scores"><textarea name="scores2" cols="50" rows="6" ></textarea>
<br>
<input type="radio" name="level" id="level" onclick="setlevel(0)">level 0 --  the Computer is totally dumb. <br>
<input type="radio" name="level" id="level" onclick="setlevel(1)" checked>level 1 --  Computer is smarter (original version). <br>
<input type="radio" name="level" id="level" onclick="setlevel(2)">level 2 --  You MAY win (only when you start). <br>
<input type="radio" name="level" id="level" onclick="setlevel(3)">level 3 --  Computer NEVER lose.<br>
</form>
</tr></td>
</table></div>
</body>
</html>
